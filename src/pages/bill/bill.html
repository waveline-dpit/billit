<!--
  Generated template for the BillPage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar >
    <img src="/assets/Images/logo.png" class="billit_image">
    <ion-buttons right class="margin-right">
      <button ion-button icon-only (click)="presentPopover($event)">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="backgroundIMG" scroll="false">

  <ion-card class="card">

    <ion-card-header>
      <div class="row">
        <div class="col col-center text-center">
          <ion-icon name="calendar" isActive="false"></ion-icon>
          <div class="inline-display margin-right">
            {{bill.date}}
          </div>
          <ion-icon name="time" isActive="false"></ion-icon>
          <div class="inline-display">
            {{bill.time}}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-center text-center">
          <ion-icon name="cart" isActive="false"></ion-icon>
          <div class="inline-display">
             {{bill.storeName}}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-center text-center">
          <ion-icon name="finger-print" isActive="false"></ion-icon>
          <div class="inline-display">
            {{bill.number}}
          </div>
        </div>
      </div>
    </ion-card-header>

    <ion-card-content class="scroll-container">
      <ion-list style="display:inline">
        <ion-scroll class="scroll-zone" scrollY="true">
          <div *ngFor="let id of keys" >

            <ion-item-sliding>
             <ion-item>
                <div class="clear">
                  <div class="inline left"> {{bill.products[id].name}} </div>
                  <div class="inline right"> {{bill.products[id].quantity}} buc</div>
                </div>
                <div class="clear">
                  <div class="inline left"> {{bill.products[id].quantity}} x {{bill.products[id].pricePerUnit}} </div>
                  <div class="inline right"> {{bill.products[id].totalPrice}} RON</div>
                </div>
              </ion-item>
              <ion-item-options side="right">
                <button ion-button color="light" (click)="showCategories(bill.products[id], id, bill.$key)">
                  <ion-icon name="attach"></ion-icon>
                  Categories
                </button>
                <button ion-button color="dark-grey" (click)="addCategory()">
                  <ion-icon name="add"></ion-icon>
                  New
                </button>
              </ion-item-options>
            </ion-item-sliding>

          </div>
        </ion-scroll>
      </ion-list>
    </ion-card-content>

    <ion-grid>
      <ion-row  class="total">
        <ion-col col-4>TOTAL</ion-col>
        <ion-col col-3></ion-col>
        <ion-col col-5>{{bill.totalAmount}} RON</ion-col>
      </ion-row>
    </ion-grid>

  </ion-card>

</ion-content>
